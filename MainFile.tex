% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

\documentclass[twoside]{report} % use larger type; default would be 10pt

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{a4paper} % or letterpaper (US) or a5paper or....
% \geometry{margin=2in} % for example, change the margins to 2 inches all round
% \geometry{landscape} % set up the page for landscape
%   read geometry.pdf for detailed page layout information

\usepackage{graphicx} % support the \includegraphics command and options
\usepackage{caption}
\usepackage{subcaption}
\usepackage{longtable}
\usepackage[section]{placeins}
\makeatletter
\AtBeginDocument{%
  \expandafter\renewcommand\expandafter\subsection\expandafter{%
    \expandafter\@fb@secFB\subsection
  }%
}
\makeatother

% \usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage[font=small,labelfont=it]{caption}
\usepackage{pdfpages}
\usepackage{hyperref}
%\usepackage{bibtopic}
\usepackage{wrapfig}
\usepackage{titling}
\usepackage{michatitle}
\usepackage{gitinfo2}
\usepackage[gen]{eurosym}
\usepackage{textcomp}
\usepackage{listings}
\usepackage[toc,page]{appendix}
\usepackage{microtype}

\lstset{
    breaklines=true,
    numbers=left,
    basicstyle=\footnotesize,
    frame=single,
    showspaces=false,
    title=\lstname
}

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
%\lhead{\gitAbbrevHash}\chead{}\rhead{Micha van den Enk {[}s1004654{]}}
%\lfoot{\today}\cfoot{}\rfoot{\thepage}

\let\Oldpart\part
\newcommand{\parttitle}{}
\renewcommand{\part}[1]{\Oldpart{#1}\renewcommand{\parttitle}{#1}}

%%%FIX PARTS!!!!!!!!!!

\fancyhead[LO,RE]{\parttitle}
\fancyhead[C]{}
\fancyhead[RO,LE]{\gitAbbrevHash}
\fancyfoot[LO,RE]{\today}
\fancyfoot[RO,LE]{\thepage}
\fancyfoot[C]{Micha van den Enk {[}s1004654{]}}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
\setcounter{secnumdepth}{-1} 
% (This matches ConTeXt defaults)

%%% RULE

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

%%% BIBLIOGRAPHY

\usepackage{apacite}                           %bibliography in apa-style

%%% ToC (table of contents) APPEARANCE
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!
\setcounter{tocdepth}{1}

\makeatletter
\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
                    \thispagestyle{fancy}%
                    \global\@topnum\z@
                    \@afterindentfalse
                    \secdef\@chapter\@schapter}
\makeatother

%%% CUSTOM DEFINITION STYLING

\newenvironment{definition} {
    \vspace{2ex}
    \begin{tabular}{p{0.8\textwidth}}
        \centering
        \large
        \em
}
{
    \end{tabular}
    \vspace{2ex}
}

%%% END Article customizations

%%% The "real" document content comes below...

\begin{document}

\hyphenation{re-con-struc-ti-vism sta-ten-bij-bel}

\supervisora{dr. A.H. Gijlers}
\supervisoremaila{a.h.gijlers@utwente.nl}
\supervisorb{dr. L. Bollen}
\supervisoremailb{l.bollen@utwente.nl}
\title{Developing a Tool for Learning Concept Maps}
\coursename{Final Project Thesis}

\maketitle
\tableofcontents
\thispagestyle{fancy}
\bibliographystyle{apacite}

%\part{Research Proposal}
%\input{./ResearchProposal/researchproposal.tex}
%\bibliography{references}

\input{./preface/acknowledgements.tex} %Not started
\input{./preface/preamble.tex} %Not started
\input{./preface/abstract.tex} %Not started

\part{Introduction}
    \input{./introduction/problem.tex} %Reviewed by Tobias TODO: missing references to labels
    \input{./introduction/context.tex} %Reviewed by Tobias
    \input{./introduction/theory.tex} %Reviewed by Tobias, Paulina

\part{Design Report}
    \input{./design/intro.tex} %Reviewed by Tobias TODO: Enlist separate aspects of the product
    \input{./design/analysis.tex} %Reviewed by Tobias, Paulina TODO: comments about social characteristics by Tobias
    \input{./design/usecases.tex} %Outlined
    \input{./design/server.tex} %Not started
    \input{./design/client.tex} %Not started

\part{Research}
    \input{./research/aimsgoals.tex} %Not started
    \input{./research/methods.tex} %Not started
    \input{./research/results.tex} %Not started
    \input{./research/discussion.tex} %Not started

\part{Recommendations}
    \input{./recommendations/features.tex} %Not started
    \input{./recommendations/research.tex} %Not started
    \input{./recommendations/implementation.tex} %Not started

\part{}

\chapter{Epilogue}

\input{./epilogue/epilogue.tex} %Not started

\bibliography{references}

\begin{appendices}
    \input{./appendix/exampletest.tex}
%    \input{./appendix/concept_map.tex}
%    \input{./appendix/flashcards.tex}
%    \input{./appendix/test.tex}
    \clearpage
    \input{./appendix/loginusecase.tex}
    \clearpage
    \input{./appendix/mainusecase.tex}
    \clearpage
%    \input{./appendix/classdiagram.tex}
%    \clearpage
    \input{./appendix/loginactivity.tex}
    \clearpage
    \input{./appendix/learningactivity.tex}
    \clearpage
    \includepdf[pages={1-}]{../software/server/doc/build/latex/Flashmapserver.pdf}
\end{appendices}
    \input{./appendix/learning_gain.tex}
    \input{./appendix/questionnaire.tex}
    \input{./appendix/instance_stats.tex}

\end{document}
